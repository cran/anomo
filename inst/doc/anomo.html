<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Zuchao Shen" />


<title>anomo</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">anomo</h1>
<h4 class="author">Zuchao Shen</h4>



<p>This package offers statistical power calculation for designs
detecting equivalence of two-group means. It also performs optimal
sample allocation and provides the Monte Carlo confidence interval
(MCCI) method to test the significance of equivalence.</p>
<div id="the-mcci-function" class="section level1">
<h1>1. The mcci Function</h1>
<div id="key-arguments-in-the-mcci-function" class="section level2">
<h2>(1) Key Arguments in the mcci Function</h2>
<p>To compute the MCCI for difference or equivalence tests, the minimum
required arguments are the estimate(s) and corresponding standard
error(s). The function can take up to five sets of estimates and their
standard errors. It could include components of one or two mediation
effects if mediation is TRUE.</p>
<ul>
<li>d: The estimate(s).</li>
<li>se: The standard error(s) of d.</li>
</ul>
<p>When two or more sets of parameters are specified (and mediation is
FALSE), the function computes the MCCIs for the difference across these
estimates. When mediation is TRUE, the function computes the MCCIs for
the estimated mediation effects (in one study) or the difference across
these mediation effects (in two studies/groups).</p>
</div>
<div id="plots-provided-by-the-function" class="section level2">
<h2>(2) Plots Provided by the Function</h2>
<p>The function also provides a plot of the MCCIs by default. Arguments
are available to adjust the appearance of the plot. See the function
documentation for details.</p>
</div>
</div>
<div id="the-od-functions" class="section level1">
<h1>2. The od Functions</h1>
<p>These functions identify optimal sample allocation for different
types of experiments where the maximum statistical is achieved under a
fixed budget.</p>
</div>
<div id="the-plot.power.eq-function" class="section level1">
<h1>3. The plot.power.eq Function</h1>
<p>This function plots the statistical power curves under a fixed budget
to illustrate the optimal design identification.</p>
</div>
<div id="the-power-functions" class="section level1">
<h1>4. The power Functions</h1>
<p>These functions perform power analyses for equivalence test in
different types of designs. They can calculate statistical power,
required sample size, and the minimum detectable difference between
equivalence bounds and the estimate depending on which one and only one
of parameters is unspecified in the function.</p>
<p>For example, the power.1.eq function for randomized controlled trials
detecting equivalence has the following arguments.</p>
<ul>
<li>power: statistical power.</li>
<li>n: sample size.</li>
<li>d: estimate (e.g., difference in group means).</li>
<li>eq.dis: The minimum distance between the equivalence bounds and the
difference in means.</li>
</ul>
</div>
<div id="examples" class="section level1">
<h1>5. Examples</h1>
<div id="mcci-example" class="section level2">
<h2>(1) MCCI Example</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="fu">library</span>(anomo)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>myci <span class="ot">&lt;-</span> <span class="fu">mcci</span>(<span class="at">d =</span> <span class="fu">c</span>(.<span class="dv">1</span>, .<span class="dv">15</span>), <span class="at">se =</span> <span class="fu">c</span>(.<span class="dv">01</span>, .<span class="dv">01</span>))</span></code></pre></div>
<pre><code>## [1] &quot;The 95% MCCI for difference test is (-0.078, -0.022)&quot;
## [1] &quot;The 90% MCCI for equivalence test is (-0.073, -0.027)&quot;</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Note. Effect difference (the black square representing d1 - d2), 90% MCCI </span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># (the thick horizontal line) for the test of equivalence, and 95% MCCI </span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># (the thin horizontal line) for the test of moderation </span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># (or difference in effects).</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Adjust the plot</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>myci <span class="ot">&lt;-</span> <span class="fu">mcci</span>(<span class="at">d =</span> <span class="fu">c</span>(.<span class="dv">1</span>, .<span class="dv">15</span>), <span class="at">se =</span> <span class="fu">c</span>(.<span class="dv">01</span>, .<span class="dv">01</span>),</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>             <span class="at">eq.bd =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.2</span>, <span class="fl">0.2</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">2</span>, .<span class="dv">7</span>))</span></code></pre></div>
<pre><code>## [1] &quot;The 95% MCCI for difference test is (-0.078, -0.022)&quot;
## [1] &quot;The 90% MCCI for equivalence test is (-0.073, -0.027)&quot;</code></pre>
<p>-MCCI for the difference and equivalence in mediation effects
(product of the m~x and y~m paths) in two studies</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>MyCI.Mediation <span class="ot">&lt;-</span> <span class="fu">mcci</span>(<span class="at">d =</span> <span class="fu">c</span>(.<span class="dv">60</span>, .<span class="dv">40</span>, .<span class="dv">60</span>, .<span class="dv">80</span>), </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>             <span class="at">se =</span> <span class="fu">c</span>(.<span class="dv">019</span>, .<span class="dv">025</span>, .<span class="dv">016</span>, .<span class="dv">023</span>), <span class="at">mediation =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;The 95% MCCI for difference test is (-0.289, -0.19)&quot;
## [1] &quot;The 90% MCCI for equivalence test is (-0.281, -0.198)&quot;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co">#Note. The order of d is a1, b1, a2, and b2 (e.g., treatment-mediator</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co">#   and mediator-outcome path in group/study 1 and 2, respectively). </span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co">#   se is in the same order for the standard errors.</span></span></code></pre></div>
</div>
<div id="power-analysis-example" class="section level2">
<h2>(2) Power Analysis Example</h2>
<div id="conventional-power-analysis" class="section level3">
<h3>Conventional Power Analysis</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a> <span class="co"># 1. Conventional Power Analyses from Difference Perspectives</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a> <span class="co"># Calculate the required sample size to achieve certain level of power</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a> mysample <span class="ot">&lt;-</span> <span class="fu">power.1.eq</span>(<span class="at">d =</span> .<span class="dv">1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>,  <span class="at">p =</span>.<span class="dv">5</span>,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>                             <span class="at">r12 =</span> .<span class="dv">5</span>, <span class="at">q =</span> <span class="dv">1</span>, <span class="at">power =</span> .<span class="dv">8</span>)</span></code></pre></div>
<pre><code>## The required sample size (n) is 1237.868.</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a> mysample<span class="sc">$</span>out</span></code></pre></div>
<pre><code>## $n
## [1] 1237.868</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a> <span class="co"># Calculate power provided by a sample size allocation</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a> mypower <span class="ot">&lt;-</span> <span class="fu">power.1.eq</span>(<span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>, <span class="at">n =</span> <span class="dv">1238</span>, <span class="at">p =</span>.<span class="dv">5</span>,</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>                            <span class="at">r12 =</span> .<span class="dv">5</span>, <span class="at">q =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## The statistical power (power) is 0.8000373.</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a> mypower<span class="sc">$</span>out</span></code></pre></div>
<pre><code>## $power
## [1] 0.8000373</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a> <span class="co"># Calculate minimum detectable distance a given sample size allocation can achieve</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a> myeq.dis <span class="ot">&lt;-</span> <span class="fu">power.1.eq</span>(<span class="at">d =</span> .<span class="dv">1</span>, <span class="at">n =</span> <span class="dv">1238</span>, <span class="at">p =</span>.<span class="dv">5</span>,</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>                            <span class="at">r12 =</span> .<span class="dv">5</span>, <span class="at">q =</span> <span class="dv">1</span>, <span class="at">power =</span> .<span class="dv">8</span>)</span></code></pre></div>
<pre><code>## The minimum detectable difference between equivalence bounds and mean/effect differnce (eq.dis) is 0.09996871.</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a> myeq.dis<span class="sc">$</span>out</span></code></pre></div>
<pre><code>## $eq.dis
## [1] 0.09996871</code></pre>
</div>
<div id="power-analysis-with-costs" class="section level3">
<h3>Power Analysis with Costs</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a> <span class="co"># 2. Power Analyses Using Optimal Sample Allocation</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a> <span class="co"># Optimal sample allocation identification</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a> od <span class="ot">&lt;-</span> <span class="fu">od.1.eq</span>(<span class="at">r12 =</span> <span class="fl">0.5</span>, <span class="at">c1 =</span> <span class="dv">1</span>, <span class="at">c1t =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## The optimal proportion of units in treatment (p) is 0.2402531.</code></pre>
<p><img role="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAZlBMVEUAAAAAADoAAGYAOpAAZrY6AAA6ADo6AGY6OpA6kNtmAABmADpmkJBmtrZmtv+QOgCQZgCQkGaQtpCQ2/+2ZgC225C2///bkDrb25Db2//b/7bb/9vb////tmb/25D//7b//9v///+Def+RAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAI3klEQVR4nO2dDXejKBSGnWnT3WR2M7tbd7IfNan//0+OgKgkwRfwatC8zznTUw1w8RlERBqLmoxSPLoCuUNBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggDCgorV8ChBssVJUoxsBWcTrkVWUBDgoYLiT22x0Inh1tCCKGjZ0HHhKAhEoyAQbQ2CloWCABQEWKEg9kHLho6LRkEgGgWBaBQEoq1B0LJQEICCACsUtKjM62AUBIJREAhGQSAYBYFgKYIuh+Llo9wnhU+ZtF8UAUHVl/fTy8flkGQoOu7C3NQrXtDn933dCKpPX39IViQTBARdDkctqFpM0JIyBVtQ2fwTrIhQ2qkICGr7oFNxFK2IUNqpSAhSV7Gi+PIuWxGhtFMRERRKVfg1ZiroNtRMgsqi2J9//dA9ukBxiyEjSHXPVTE2DFIpSt16Tp6ufMuCzOXrcnj1ptXt5vymBPkGAxsWZM+akXGQGWV//lvLtKCV9UFqHKQYG0l3n3lvSPIUdCdSwilmRkDn3VgndDKXr8o7WNqyoMbNVsdBQoIkeHZBn9/NrI+3n8rzKiYjCB686qbaDso7XNqyoBLOc9gLXb2ygeK9SqWMg+BU4uAGQ2KguJhMKUFwnkO4Ba1M0Od3/z2GpZssuu6D8l5pLyNoZPTXo6eMGryzjhsWZI997CqWVheJtFO4G2cNA8WleIgg3y3tlgXZc2xzz8WkBJUvH6fX5o51a0817odJGyhW6snq1p6LyQk61udffuh/XkRvVlcmSA2TL9/eRwXJ3qwuI8gTJWVGsWkW5X7sFFvlrYacoLp8VVeykYuY8M3qMggKgqxyumNJQf6b1bTilsBXoZlG0uu7WRUS1AyCtnmz6o2xhpvVlQka9MAT2LCggCnXmOKE0ybiD5Eyozip84mNuwySgiZ10pkuJB+pzRo66flZuaDZZY4FWMOM4tyCRsvnjKK4oM3NKI4XP9OM4sRapaeNB5Q+z4xiRHEPR1xQwIxiVHEPBlVklhnFuOIeCqzHk4+DcNHR80ESd6oxcSPTRtZiBkFFgZcHBRcnn1a8EtGnmHokOHGNdFTcyLTidUjpg1QzmjpploGgsBmFxE66mngrlsFVLLAG6Vex5f7qeQ6CJ6TSW9CkceKDBUXM1z1lHzRL8O1cxeKme59vHBRZ2sIj6UcvJI9/WvBU92Ipz1LWIEgoYtqjpicRlP4gLg9BM0+qTnlMmYcgoQcLd7JOfog7k6DoZcAiz+7cXDIPuOcRlLAMWOLpr00v+fB/FkFJizj9BxV8XznHuohZBCUvA75/dPDBw5wLRvJpQfaDkGMtHCJqFs9cfdDEZcDFODF1mchMVzHRZcAPJZNx0JKh46AgqeAzDxTlQguTzUBRKrQ02V3mJ6YVJ6+BYoasoQU9lIUHipkuJB9hDQPF7fVBwsVR0LKh45hbkMSXm2xakLe41fAgQWGFokmRR5Y+MblModsVFPBllCGFblYQvlkNK3SrggJuNcIK3aqggJvVsEK3KogtCIGfaoQVullB+GY1rNDtCnpCKAhAQQAKAlAQgIIAFASgIAAFASgIQEEACgJQEEBSkPN+0bGXjQZkr+vYdwY72U9FMe2Nuh2CgqqmfpWto7MRn11tx/19sZNdvUkv5EUqAcgJMvON5evtRnz2Wk89xQi6iv4aGd2PnCDz7WftM2lnIz67+u3ljxhBTvZMBQ1fwDr+NlaYXW9G9UFu9ixPMdMBtN2AsxGfXZ8xUYKuAsZfInxkKkg9NZkgSL1tb/yFqMHkeYrpjfRTLL4H9JNnJ31q16iE9yJO9vj26yfby3xkC3KyG1si3/+c8UAxciTtZM+yD9InhqqhGYW0G6nZ6+hbDSd7WUz/JhsDb1YBFASgIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQQAKAlAQgIIAFASgIECioNIsTwlevVEd/a+msA/jB8/iddrKTX+VH7+buoKLZ3CKdEH6YC6HwPUFo+/tuCMI5jGYVVMpMUMjTBQUvMDlaQWdd8fLtz9VK6/MepPz21+7duFJu0d9rv/U/j9dHbv38PvBLiAbCLK7m6qfd+rP89XPNpk6nGG22gpqa3CyK15KnUXn/2en0u/V73oBmhNcp/i/DT6ouKSgpgWZ06zSR6VeFd38ohfg2j36c3Nwzt6m7Z1M+3MEmd02vV4q1q7nNfv6bL0gXQO1V6+ZUqvM1IbJr9Jrfepfm2QYpXPdVVxSkDnUvV0A1+gyy7pOLx/dHv25PWB3b/vibUeQ2W3TD1fRmX19toGgfftDpVdvG9ZJjCCd3hZqkwyi9ILaiksJMleQ9tjbOjc/29WBylS7R3/utAhn77Ugs9umvxx6Q10r7I/LCjra3rB1V7Wnqdm2P7okwyi9oLbiUoI61QNBqud4ex8KsrVwBQ33jgsyX3k17IO8grp1sU1H8/Xv3T1BNsldQW+ehbGSglQLcgUFtSC7NlW/SvlKkN5vah3Sgupeh68F2QzLCrrqg0qnDxoIut2rMKubVc9wV1D7y7igbqfutqp7p5hb4M0ptq/vrhuVETS4itk/I+mvV8fBwV/ttSePXpjaHJkraG/+R6uQFmSubaVpus0oe6/zO4K6JH2U/rLeV3weQd04aPdbO+boRzxqq7wZBw2PVPc0qkTn/7bJ86GSt80eCNKDHNV69HJgdVqWahw0FGSTdKWUg3FQX3ERQT76S/DK8FacggwUBFhK0PagIAAFASgIQEEACgJQEICCABQEoCAABQEoCEBBAAoCUBCAggAUBKAgAAUBKAhAQYCfJHqk1gtBpJ0AAAAASUVORK5CYII=" /><!-- --></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a> <span class="co"># Required budget and sample size at the optimal allocation</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a> budget <span class="ot">&lt;-</span> <span class="fu">power.1.eq</span>(<span class="at">expr =</span> od, <span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>, </span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>                         <span class="at">power =</span> .<span class="dv">8</span>)  </span></code></pre></div>
<pre><code>## The required budget (m) is 5359.788.
## The required sample size (n) is 1694.914.</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a> <span class="co"># Required budget and sample size by an balanced design with p = .50</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a> budget.balanced <span class="ot">&lt;-</span> <span class="fu">power.1.eq</span>(<span class="at">expr =</span> od, <span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>,</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>                                    <span class="at">power =</span> .<span class="dv">8</span>,</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>                                    <span class="at">constraint =</span> <span class="fu">list</span>(<span class="at">p =</span> .<span class="dv">50</span>))</span></code></pre></div>
<pre><code>## The required budget (m) is 6808.272.
## The required sample size (n) is 1237.868.</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a> <span class="co"># 27% more budget required from the balanced design with p = 0.50.</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a> (budget.balanced<span class="sc">$</span>out<span class="sc">$</span>m<span class="sc">-</span>budget<span class="sc">$</span>out<span class="sc">$</span>m)<span class="sc">/</span>budget<span class="sc">$</span>out<span class="sc">$</span>m <span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] 27.02501</code></pre>
</div>
<div id="power-curve-under-the-same-budget-statistical-power-is-maximized-at-the-optimal-allocation" class="section level3">
<h3>Power Curve Under the Same Budget: Statistical Power is Maximized at
the Optimal Allocation</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">plot.power.eq</span>(<span class="at">expr =</span> od, <span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>) </span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
