<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Zuchao Shen" />


<title>anomo</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">anomo</h1>
<h4 class="author">Zuchao Shen</h4>



<p>This package offers statistical power calculation for designs
detecting equivalence of two-group means. It also performs optimal
sample allocation and provides the Monte Carlo confidence interval
(MCCI) method to test the significance of equivalence.</p>
<div id="the-mcci-function" class="section level1">
<h1>1. The mcci Function</h1>
<div id="key-arguments-in-the-mcci-function" class="section level2">
<h2>(1) Key Arguments in the mcci Function</h2>
<p>To compute the MCCI for difference or equivalence tests, the minimum
argument is the estimated effect and its standard errors. The function
can take up to two sets of effects and their standard errors. For each
set, it could include components of a compound effect (i.e., a mediation
effect).</p>
<p>When only one set of argument is specified, the effect itself is
estimated difference.</p>
<ul>
<li>d1: The estimated effect in a study.</li>
<li>se1: The standard error(s) of d1.</li>
</ul>
<p>When two sets of effects/means are specified, they could be like the
following.</p>
<ul>
<li>d1: The estimated mean (or effect(s)) for group 1 (study 1).</li>
<li>se1: The standard error(s) of d1.</li>
<li>d2: The estimated mean (or effect(s)) for group 2 (study 2).</li>
<li>se2: The standard error(s) of d2.</li>
</ul>
</div>
<div id="plots-provided-by-the-function" class="section level2">
<h2>(2) Plots Provided by the Function</h2>
<p>The function also provide a plot of the MCCI by default. Arguments
are available to adjust the appearance of the plot. See the function
documentation for details.</p>
</div>
</div>
<div id="the-power.eq.2group-function" class="section level1">
<h1>2. The power.eq.2group Function</h1>
<p>This function performs power analysis for equivalence test of
two-group means. It can calculate statistical power, required sample
size, and the minimum detectable difference between equivalence bounds
and the group-mean difference depending on which one and only one of
parameters is unspecified in the function.</p>
<ul>
<li>power: statistical power.</li>
<li>n: sample size.</li>
<li>eq.dis: The minimum distance between the equivalence bounds and the
difference in means (effect(s)) .</li>
</ul>
</div>
<div id="examples" class="section level1">
<h1>3. Examples</h1>
<div id="mcci-example" class="section level2">
<h2>(1) MCCI Example</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="fu">library</span>(anomo)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>myci <span class="ot">&lt;-</span> <span class="fu">mcci</span>(<span class="at">d1 =</span> .<span class="dv">1</span>, <span class="at">se1 =</span> .<span class="dv">1</span>, <span class="at">d2 =</span> .<span class="dv">3</span>, <span class="at">se2 =</span> .<span class="dv">1</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAFQCAMAAABXmDxzAAAAaVBMVEUAAAAAACsAAFUAK4AAVVUAVaorAAArACsrAFUrKysrK4ArgNRVAABVACtVAFVVVQBVgIBVqqpVqv+AKwCAKyuAVQCAgFWA1P+qVQCq1ICq/9Sq///UgCvU////qlX/1ID//6r//9T////zI2JOAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAKAElEQVR4nO3di3bixhJGYWLHzmTsycUkGZKRhdH7P2TU3ZJAXMbEaai/qP2tdTLBQKHAHrXA64hFBwhbWG8A8D0ECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmkECmmVA10AZ7EKtO443CoChTSHgb5zV9LXc7lXu8pjVB5HoO7ECtRsMgwQKKQ5DJQl3p1YSzyBuhMrULPJMECgkOYwUAp0J9YST6DuxArUbDIMECikOQyUj5ncibXEE6g7sQI1mwwDBAppDgNliXcn1hJPoO7EChSRECikOQyUJd6dWEs8gboTK1CzyTBAoJDmMFCWeHdiLfEE6k6sQM0mwwCBQprDQCnQnVhLPIG6EytQs8kwQKCQ5jBQPmZyJ9YST6DuxArUbDIMECikOQyUJd6dWEs8gboTK1BEQqCQ5jBQlnh3Yi3xBOpOrEDNJsMAgUKaw0BZ4t2JtcQTqDuxAjWbDAMECmkOA6VAd2It8QTqTqxAzSbDAIFCmsNA+ZjJnVhLPIG6EytQs8kwQKCQ5jBQlnh3Yi3xBOpOrEARCYFCmsNAWeLdibXEE6g7sQI1mwwDBAppDgNliXcn1hJPoO7ECtRsMgwQKKQ5DJQC3Ym1xBOoO7ECNZsMAwQKaQ4D5WMmd2It8QTqTqxAzSZf0KKw3gxBBCqBQE9xGOgC7lwhlGsEav00wtj/6Y49KD7uCqHo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ESikESikESikESikESikESikESikESikESikESikESik/QvARQEjSWSGvAAAAABJRU5ErkJggg==" /><!-- --></p>
<pre><code>## [1] &quot;The 95% MCCI for difference test is c(-0.075,0.479).&quot;
## [1] &quot;The 90% MCCI for equivalence test is c(-0.033,0.438).&quot;</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Note. Effect difference (the black square representing d2 - d1), 90% MCCI </span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># (the thick horizontal line) for the test of equivalence, and 95% MCCI </span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># (the thin horizontal line) for the test of moderation </span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># (or difference in effects).</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Adjust the plot</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>myci <span class="ot">&lt;-</span> <span class="fu">mcci</span>(<span class="at">d1 =</span> .<span class="dv">1</span>, <span class="at">se1 =</span> .<span class="dv">1</span>, <span class="at">d2 =</span> .<span class="dv">4</span>, <span class="at">se2 =</span> .<span class="dv">1</span>,</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>             <span class="at">eq.bd =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.2</span>, <span class="fl">0.2</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">2</span>, .<span class="dv">7</span>))</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<pre><code>## [1] &quot;The 95% MCCI for difference test is c(0.022,0.565).&quot;
## [1] &quot;The 90% MCCI for equivalence test is c(0.063,0.526).&quot;</code></pre>
<p>-MCCI for the difference and equivalence in mediation effects
(product of the y~m and m~x paths) in two studies</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>MyCI.Mediation <span class="ot">&lt;-</span> <span class="fu">mcci</span>(<span class="at">d1 =</span> <span class="fu">c</span>(.<span class="dv">60</span>, .<span class="dv">40</span>), </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>             <span class="at">se1 =</span> <span class="fu">c</span>(.<span class="dv">019</span>, .<span class="dv">025</span>),</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>             <span class="at">d2 =</span> <span class="fu">c</span>(.<span class="dv">60</span>, .<span class="dv">80</span>),</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>             <span class="at">se2 =</span> <span class="fu">c</span>(.<span class="dv">016</span>, .<span class="dv">023</span>))</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<pre><code>## [1] &quot;The 95% MCCI for difference test is c(0.191,0.289).&quot;
## [1] &quot;The 90% MCCI for equivalence test is c(0.198,0.281).&quot;</code></pre>
</div>
<div id="power-analysis-example" class="section level2">
<h2>(2) Power Analysis Example</h2>
<div id="conventional-power-analysis" class="section level3">
<h3>Conventional Power Analysis</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a> <span class="co"># 1. Conventional Power Analyses from Difference Perspectives</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a> <span class="co"># Calculate the required sample size to achieve certain level of power</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a> mysample <span class="ot">&lt;-</span> <span class="fu">power.eq.2group</span>(<span class="at">d =</span> .<span class="dv">1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>,  <span class="at">p =</span>.<span class="dv">5</span>,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>                             <span class="at">r12 =</span> .<span class="dv">5</span>, <span class="at">q =</span> <span class="dv">1</span>, <span class="at">power =</span> .<span class="dv">8</span>)</span></code></pre></div>
<pre><code>## The required sample size (n) is 1237.868.</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a> mysample<span class="sc">$</span>out</span></code></pre></div>
<pre><code>## $n
## [1] 1237.868</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a> <span class="co"># Calculate power provided by a sample size allocation</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a> mypower <span class="ot">&lt;-</span> <span class="fu">power.eq.2group</span>(<span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>, <span class="at">n =</span> <span class="dv">1238</span>, <span class="at">p =</span>.<span class="dv">5</span>,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>                            <span class="at">r12 =</span> .<span class="dv">5</span>, <span class="at">q =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## The statistical power (power) is 0.8000373.</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a> mypower<span class="sc">$</span>out</span></code></pre></div>
<pre><code>## $power
## [1] 0.8000373</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a> <span class="co"># Calculate minimum detectable distance a given sample size allocation can achieve</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a> myeq.dis <span class="ot">&lt;-</span> <span class="fu">power.eq.2group</span>(<span class="at">d =</span> .<span class="dv">1</span>, <span class="at">n =</span> <span class="dv">1238</span>, <span class="at">p =</span>.<span class="dv">5</span>,</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>                            <span class="at">r12 =</span> .<span class="dv">5</span>, <span class="at">q =</span> <span class="dv">1</span>, <span class="at">power =</span> .<span class="dv">8</span>)</span></code></pre></div>
<pre><code>## The minimum detectable difference between equivalence bounds and mean/effect differnce (eq.dis) is 0.09996871.</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a> myeq.dis<span class="sc">$</span>out</span></code></pre></div>
<pre><code>## $eq.dis
## [1] 0.09996871</code></pre>
</div>
<div id="power-analysis-with-costs" class="section level3">
<h3>Power Analysis with Costs</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a> <span class="co"># 2. Power Analyses Using Optimal Sample Allocation</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a> <span class="co"># Optimal sample allocation identification</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a> od <span class="ot">&lt;-</span> <span class="fu">od.eq.2group</span>(<span class="at">r12 =</span> <span class="fl">0.5</span>, <span class="at">c1 =</span> <span class="dv">1</span>, <span class="at">c1t =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## The optimal proportion of units in treatment (p) is 0.2402531.</code></pre>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a> <span class="co"># Required budget and sample size at the optimal allocation</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a> budget <span class="ot">&lt;-</span> <span class="fu">power.eq.2group</span>(<span class="at">expr =</span> od, <span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>,</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>                            <span class="at">q =</span> <span class="dv">1</span>, <span class="at">power =</span> .<span class="dv">8</span>)  </span></code></pre></div>
<pre><code>## The required budget (m) is 5359.788.
## The required sample size (n) is 1694.914.</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a> <span class="co"># Required budget and sample size by an balanced design with p = .50</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a> budget.balanced <span class="ot">&lt;-</span> <span class="fu">power.eq.2group</span>(<span class="at">expr =</span> od, <span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>,</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>                                    <span class="at">q =</span> <span class="dv">1</span>, <span class="at">power =</span> .<span class="dv">8</span>,</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>                                    <span class="at">constraint =</span> <span class="fu">list</span>(<span class="at">p =</span> .<span class="dv">50</span>))</span></code></pre></div>
<pre><code>## The required budget (m) is 6808.272.
## The required sample size (n) is 1237.868.</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a> <span class="co"># 27% more budget required from the balanced design with p = 0.50.</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a> (budget.balanced<span class="sc">$</span>out<span class="sc">$</span>m<span class="sc">-</span>budget<span class="sc">$</span>out<span class="sc">$</span>m)<span class="sc">/</span>budget<span class="sc">$</span>out<span class="sc">$</span>m <span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] 27.02501</code></pre>
</div>
<div id="power-curve-under-the-same-budget-statistical-power-is-maximized-at-the-optimal-allocation" class="section level3">
<h3>Power Curve Under the Same Budget: Statistical Power is Maximized at
the Optimal Allocation</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>pwr <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>p.range <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.01</span>, <span class="fl">0.99</span>, <span class="fl">0.01</span>)</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="cf">for</span>(p <span class="cf">in</span> p.range){</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>  pwr <span class="ot">&lt;-</span> <span class="fu">c</span>(pwr, <span class="fu">power.eq.2group</span>(<span class="at">expr =</span> od, <span class="at">constraint =</span> <span class="fu">list</span>(<span class="at">p =</span> p),</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>                                <span class="at">m =</span> budget<span class="sc">$</span>out<span class="sc">$</span>m, <span class="at">d =</span> <span class="fl">0.1</span>, <span class="at">eq.dis =</span> <span class="fl">0.1</span>,</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>                                <span class="at">q =</span> <span class="dv">1</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)<span class="sc">$</span>out<span class="sc">$</span>power)</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a>}</span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="fu">plot</span>(p.range<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a>     pwr<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">lty =</span> <span class="dv">1</span>,</span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),</span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Proportion of Units in Treated (%)&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Power (%)&quot;</span>,</span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb28-14"><a href="#cb28-14" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>od<span class="sc">$</span>out<span class="sc">$</span>p<span class="sc">*</span><span class="dv">100</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAZlBMVEUAAAAAACsAAFUAK4AAVaorAAArACsrAFUrK4ArgNRVAABVACtVAFVVgIBVqqpVqv+AKwCAKyuAVQCAgFWAqoCA1P+qVQCq1ICq/6qq///UgCvU/6rU////qlX/1ID//6r//9T///8ZnvzSAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAKS0lEQVR4nO2d6WKjNhSFnW1ae9o60za0oSE27/+SRauBIB20sXjO+eVIQld8uboScG0OLeXVYe0BbF0EBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBAmQEddqO1AOXtrpwICIiAgBYGFD61s5mO1B48iICWNR0mAsplnIByNVylu3IiICACAtoDIMagZU2HiYByGSegXA3zd3ePgK6v6pL08T1LdyuqDKD6cFQfGvMhqbs1VQTQ9dViqZ8+krtbVRGAGn1H5+xseznZusYxye42Bl1Oh2f1qQszrgiT2YP2BOjyW5/J8K+eauNeWWLQngDNVedoUg7/IaCs3e0Q0OeLxzm8vQTdtI99hpdTUYAu39+68OIjVB0Oz3Kz6FrqoN0pIGtgigL0+euHJ0K3au2qxHJ3OcUEaT+GZSmFrmJyh4M8SC7zzUPXKGqZH9dNtV0MUrAHVWLhFjHIeZmlMaotYvhGcWJmOVsuACliitVmq+hUigdNVHi9rTSjqBgEEdkY1NtTz7I7ebpgjGUZRVxqHDrXaMAqH7mKhZQOWpRjFAjo+tqd8ecv7yIMeYJQpN2UsyzFKOZa7PrjrYzdxFMsgijagwrYTT+/Am4UGoNEYHlId6CgxSropHMT2s7FqmdnFNZzXje6P0BxR6R3FXTDLMKu7+IrovtsiIrcco2xmxdQPicqctM+wm7+FTpTKNpKDCqyy8uB6K4BZdlaLWfK153//lmKndRx3zugZEQLA3LcgPd3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" /><!-- --></p>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
